!function(){"use strict";const e=document.querySelector("body"),t=document.querySelector(".top"),o=document.getElementById("orderDialog"),d=document.getElementById("questionDialog"),n=document.getElementById("commentDialog"),c=document.getElementById("openOrderDialogBtn"),r=document.getElementById("openQuestionDialogBtn"),a=document.getElementById("openCommentDialogBtn");document.getElementById("orderForm"),document.getElementById("questionForm");window.addEventListener("load",function(){document.querySelector(".carousel")&&function(){const e=document.querySelector(".carousel"),t=e.querySelector(".slider"),o=e.querySelector(".slide"),d=t.children.length;let n=o.offsetWidth;document.querySelector("#button_bck").addEventListener("click",()=>s("backward")),document.querySelector("#button_fwd").addEventListener("click",()=>s("forward")),document.addEventListener("keydown",e=>{"ArrowLeft"===e.code?s("backward"):"ArrowRight"===e.code&&s("forward")}),window.addEventListener("resize",()=>{n=o.offsetWidth});const c=getComputedStyle(t).gap,r=Math.ceil(parseFloat(c)),a=e=>{const o=d*n;if("forward"===e){const e=t.scrollLeft+n+r;return e<=o&e<d*n?e:0}if("backward"===e){const e=t.scrollLeft-n-r;return e>=0?e:o}if("number"==typeof e){return e*n}},s=e=>{t.scrollLeft=a(e)}}()}),t&&t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.scrollIntoView(!0,{behavior:"smooth"})},!1);const s=document.getElementById("share_button");if(s&&s.addEventListener("click",function(e){e.preventDefault(),navigator.share({title:document.title,url:window.location})}),c&&c.addEventListener("click",()=>{o.showModal()}),r&&r.addEventListener("click",()=>{d.showModal()}),a&&a.addEventListener("click",()=>{n.showModal()}),o){o.querySelector(".close-modal").addEventListener("click",()=>{o.close("")})}if(d){d.querySelector(".close-modal").addEventListener("click",()=>{d.close()})}if(n){n.querySelector(".close-modal").addEventListener("click",()=>{n.close()})}document.addEventListener("DOMContentLoaded",()=>{async function e(e){e.preventDefault();const t=e.target,o={};for(const e of t.elements)e.name&&(o[e.name]=e.value);const d=t.parentNode.querySelector(".form-loading"),n=t.parentNode.querySelector(".form-success"),c=t.parentNode.querySelector(".form-error");t.classList.add("fhide"),d.classList.remove("fhide"),d.classList.add("fade-in");try{const e=await fetch("https://social-octopus.opaproject.ru/",{method:"POST",body:JSON.stringify(o)});e.ok?(console.log("Форма успешно отправлена!"),_tmr.push({type:"reachGoal",id:3711148,goal:"vk_lead"}),ym(99635871,"reachGoal","ym_lead"),d.classList.add("fhide"),n.classList.remove("fhide"),n.classList.add("fade-in")):(console.error("Ошибка при отправке формы:",e.status),d.classList.add("fhide"),c.classList.remove("fhide"),c.classList.add("fade-in"))}catch(e){console.error("Произошла ошибка:",e),d.classList.add("fhide"),c.classList.remove("fhide"),c.classList.add("fade-in")}finally{setTimeout(()=>{d.classList.add("fhide"),n.classList.add("fhide"),c.classList.add("fhide"),t.classList.remove("fhide"),t.reset()},5e3)}}document.querySelectorAll("form").forEach(t=>{t.addEventListener("submit",e)})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("#cta a.button");e&&e.forEach(e=>{e.addEventListener("click",()=>{_tmr.push({type:"reachGoal",id:3711148,goal:"vk_contact"}),ym(99635871,"reachGoal","ym_contact")})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("paintColorSlider"),t=e=>{document.documentElement.style.setProperty("--brand-hue",e)};t(e.value),e.addEventListener("input",e=>{t(e.target.value)})})}();